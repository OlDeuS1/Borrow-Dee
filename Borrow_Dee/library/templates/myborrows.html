{% extends "layouts/layout.html" %}
{% load static %}

{% block title %} My borrows {% endblock %}

{% block header %}
    {% include "layouts/navigation.html" %}
{% endblock %}

{% block content %}
    <div class="my-borrows">
      <h1 class="my-borrows__title text-[4.2rem] mb-25">My borrows</h1>
      <div class="my-borrows__content">
        {% if borrows.count > 0 %}
          <table class="my-borrows__table border-collapse w-full">
            {% for borrow in borrows %}
              <tr class="my-borrows__row border-t border-gray-300 text-[1.6rem]">
                <td class="my-borrows__data py-8 align-middle">
                  <img class="w-[15rem]" src="{% if borrow.book.image %}{{ borrow.book.image }}{% else %}{% static 'images/No_image_available.svg' %}{% endif %}" alt="{{ borrow.book.title }}">
                </td>
                <td class="my-borrows__data py-8">
                  {{ borrow.book.title }}
                  <div class="text-gray-500 text-[1.4rem]">{{ borrow.book.author.all|join:", " }}</div>
                </td>
                <td class="my-borrows__data py-8">
                  Borrowed Date
                  <div class="text-gray-500 text-[1.4rem]">{{ borrow.borrow_date|date:"d F, Y" }}</div>
                </td>
                <td class="my-borrows__data py-8">
                  Due Date
                  <div class="text-gray-500 text-[1.4rem]">{{ borrow.due_date|date:"d F, Y" }}</div>
                </td>
                <td class="my-borrows__data py-8">
                  Status
                  <div class="text-gray-500 text-[1.4rem] {% if borrow.status == 'overdue' %}text-red-500{% endif%}">{{ borrow.status }}</div>
                </td>
                <td class="my-borrows__data py-8 text-center">
                  {% if borrow.status != 'borrowed' %}
                    <button disabled class="btn-dis-renew inline-block text-white px-8 py-3 rounded-[3rem] bg-gray-500 transition-all shadow-xl">Renew</button>
                  {% else %}
                    <button class="btn-renew inline-block cursor-pointer text-white px-8 py-3 rounded-[3rem] bg-[#E07A5F] transition-all hover:bg-[#ba5e49] shadow-xl">Renew</button>
                  {% endif %}
                </td>
              </tr>
            {% endfor %}
          </table>
        {% else %}
          <div class="text-center p-8 text-gray-400">No borrows yet.</div>
        {% endif %}
      </div>
    </div>
    <div class="confirm-modal-bg invisible h-screen backdrop-blur-[2px] w-full fixed top-0 left-0 z-20" style="background-color: rgba(0, 0, 0, 0.3);">
      <div class="confirm-modal max-w-[40rem] w-full bg-[#403D39] p-8 rounded-[2rem] absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white">
        <div class="confirm-modal__title">Renew</div>
        <div class="confirm-modal__content">
          content for something
        </div>
        <div class="confirm-modal__action">
          <button class="btn-cancle">Cancel</button>
          <button class="btn-confirm cursor-pointer text-white bg-[#E07A5F] hover:bg-[#ba5e49] rounded-[3rem] shadow-xl transition-all">Confirm</button>
        </div>
        <div class="btn-close absolute -top-5 -right-5 bg-[#A9907E] p-2 rounded-[50%] cursor-pointer hover:bg-[#8c7869] transition-all">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#403D39" viewBox="0 0 256 256">
            <path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"></path>
          </svg>
        </div>
      </div>
    </div>
{% endblock %}